<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <style type="text/css">	
        	*{
        		margin: 0;padding: 0;
        	}
			canvas {
				/*background: #ccc;*/
			}
			/*#form {
				position: absolute;
				top: 50px;
				left: 20px;
			}*/
        </style>
    </head>
    <body>
    	<div id="form">
    		<p>姓名：<input type="text" name="" id="name"></p>
    		<p><button id="btn">提交</button></p>
    	</div>
    	<canvas id="canvas" width="640" height="734"></canvas>
		<img src="" id="image">

    </body>
    <script type="text/javascript">
    	var canvas = document.getElementById("canvas")
    	var ctx = canvas.getContext("2d")

		var btn = document.getElementById("btn")

    	btn.onclick = function (){
    		var img = new Image();
			img.src = "img/1.jpg"
			img.onload = function (){
				ctx.drawImage(img,0,0,640,734,0,0,640,734)
    		var name = document.getElementById("name").value
    		ctx.font = "40px Arial"
    		ctx.fillText(name, 183, 220)
	    	var dataURL = canvas.toDataURL();
	    	window.location.href=dataURL;
    		}
		}
    </script>
</html>